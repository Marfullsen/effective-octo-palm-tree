<!DOCTYPE html>
<html lang="es">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="shortcut icon" href="assets/img/favicon.ico" type="image/x-icon">
		<link rel="icon" href="assets/img/favicon.ico" type="image/x-icon">
		<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/uikit@latest/dist/css/uikit.min.css">
		<link rel="stylesheet" type="text/css" href="assets/css/cards.css">
		<link rel="stylesheet" href="assets/css/style.css">
		<title>Vue3 =W=</title>
	</head>
	<body class data-uk-filter="target: .js-filter; animation: fade">
		
		<!--HEADER-->
		<header id="site-head">
			<div class="uk-container uk-container-expand">
				<div class="uk-grid uk-grid-medium uk-flex uk-flex-middle" data-uk-grid>
					<div class="uk-width-auto">
						<a href="https://www.youtube.com/channel/UCGAL8NitnKBW5RIdwy6gqeQ" class="uk-logo" title="">
							<img class="animate-flicker" src="assets/img/W-neon.png" alt="">
						</a>
					</div>
					<div class="uk-width-expand">
						<form id="search-form" action="">
							<div class="uk-inline uk-width-1-1">
								<span class="uk-form-icon uk-form-icon-flip" data-uk-icon="icon: search"></span>
								<input class="uk-input uk-width-1-1 search-fld" type="text" placeholder="Buscar partidas grabadas" autofocus>
								<a hidden href="#" class="search-filter" data-uk-filter-control="[data-tags*='']">Search</a>
								<a hidden href="#" class="search-filter-all" data-uk-filter-control>Search all</a>
								<a hidden href="#" class="search-filter-none" data-uk-filter-control="[data-empty='']">Filter none</a>
							</div>
						</form>
					</div>
					<div class="uk-width-auto">
						<ul class="uk-subnav" data-uk-margin>
							<li class="uk-visible@l"><a href="#" uk-toggle="target: #modal-subir-partida">Subir partida</a></li>
							<!-- This is the modal -->
							<div id="modal-subir-partida" uk-modal>
								<div class="uk-modal-dialog uk-modal-body">
										<h2 class="uk-modal-title">Subir mi partida</h2>
										<p>¬°Las partidas deben subirse comprimidas!</p>
										<details>
											<summary>
												Ver pasos
											</summary>
											<p>Paso 1:</p>
										</details>
										<form method="post" enctype="multipart/form-data">
											<input type="hidden" name="csrfmiddlewaretoken" value="qAIjFOPahKx4rCh9VaiCICOJhxcmO2TDwBmWStip8PEgXTxbBKZyKLuUAKirmImt">
											<p><label for="id_upload_file">Upload file:</label> <input type="file" name="upload_file" required="" id="id_upload_file"></p>
											<button class="uk-button uk-button-primary" type="submit">Buscar mi partida y subirla</button>
										</form>
								</div>
							</div>
							<li class="uk-visible btn-toggle"><a href="#" data-uk-tooltip="title: Cambiar iluminaci√≥n" >üåô/‚òÄÔ∏è</a></li>
						</ul>
					</div>
				</div>
			</div>
		</header>
		<!--/HEADER-->
		<div class="spacer"></div>
		<!--CARDS WRAPPER-->
		<section class="uk-section uk-section-small uk-padding-remove-bottom">
			<div class="uk-container uk-container-expand uk-margin-large-bottom">
				<ul class="uk-subnav uk-subnav-pill">
					<li class="uk-active" data-uk-filter-control=""><a href="#">Todas las partidas</a></li>
					<li data-uk-filter-control=".nature-card"><a href="#">Copa Warriors 2021</a></li>
					<li data-uk-filter-control=".red-card"><a href="#">Destacadas</a></li>
					<li data-uk-filter-control=".photo-card"><a href="#">Chascarros</a></li>
					<li data-uk-filter-control=".design-card"><a href="#">Finales</a></li>
				</ul>

				<div id="app" class="uk-grid uk-grid-medium uk-child-width-1-2@s uk-child-width-1-3@m uk-child-width-1-4@l  uk-child-width-1-5@xl uk-grid-match js-filter" data-uk-grid="masonry: true" data-uk-sortable="handle: .drag-icon">
					
					<!-- card -->
					<div v-for="partida in partidas" class="blue-card" data-tags="baltico copa warriors maestro">
						<div class="uk-card uk-card-small uk-card-default">
							<div class="uk-card-header">
								<div class="uk-grid uk-grid-small uk-text-small" data-uk-grid>
									<div class="uk-width-expand">
										<span class="cat-txt">Copa Warriors / B√°ltico</span>
									</div>
									<div class="uk-width-auto uk-text-right uk-text-muted">
										<span data-uk-icon="icon:calendar; ratio: 0.8"></span> 5 Marzo 2021.
									</div>
								</div>
							</div>
							<div class="uk-card-media uk-text-center">
								<div class="uk-inline-clip uk-transition-toggle" tabindex="0">
									<img class="lazy" data-src="assets/img/minimap_recorded game -  06-mar-2021 04`17`02.png" data-width="400" data-height="300" data-uk-img alt="" src="assets/img/transp.gif">
									<div class="uk-transition-slide-bottom uk-position-bottom uk-overlay uk-overlay-primary">
										<span data-uk-icon="icon:user; ratio: 0.8"></span> {{ partida.punto_de_vista }} <span data-uk-icon="icon:bolt; ratio: 0.8"></span> {{ partidas['1'].teams }}
									</div>
								</div>
							</div>
							<div class="uk-card-body uk-align-center">
								<div>
									<ul class="uk-subnav uk-subnav-pill" uk-switcher="animation: uk-animation-scale-up">
										<li><a href="#">Mapa</a></li>
										<li><a href="#">Detalles</a></li>
										<li><a href="#">Equipos</a></li>
									</ul>
									
									<ul class="uk-switcher uk-margin">
											<li class="uk-text-small uk-text-muted">
												<p>Mapa: {{ partida.nombre_mapa }}<br>Subida por: Frem</p>
											</li>
											<li class="uk-text-small uk-text-muted">
												<p>Nombre archivo<br> {{ partida.nombre_archivo }}</p>
												<hr>
												<p>
													Duracion partida: {{ partida.duracion_partida }} <br>
													Punto de vista: {{ partida.punto_de_vista }}
												</p>
												<hr>
												<p>
													Mapa_revelado: {{ partida.mapa_revelado }}<br>
													Velocidad: {{ partida.velocidad }}<br>
													Poblacion: {{ partida.poblacion }}<br>
													Diplomacia: {{ partida.diplomacia }}</p>
												<hr>
												<p>
													Nombre_mapa: {{ partida.nombre_mapa }} <br>
													Tamano_mapa: {{ partida.tamano_mapa }} <br>
													Bloqueo_diplomacia_equipos: {{ partida.bloqueo_diplomacia_equipos }} <br>
													Dificultad: {{ partida.dificultad }} <br>
													Equipos: {{ partida.teams }}
												</p>
												<hr>
											</li>
											<li class="uk-text-small uk-text-muted">
												<p>
													<!-- Info de cada jugador (Nickname & civ) -->
													<span v-for="(valor, clave) in partida">
														<span v-if="typeof(valor) === 'object'">
															<span v-for="(equipos, num_equipo) in valor">
																<strong>Equipo {{ num_equipo }}</strong><br>
																<span v-for="(info_jugador, num_jugador) in equipos">
																	<span v-bind:style="{ 'color': custom_color(info_jugador.color) }">&#9673;</span> <strong>{{ info_jugador.nickname }}</strong><br>
																	Civi: {{ info_jugador.civ }}<br>
																</span>
																<br>
															</span>
															<br>
														</span>
													</span>
												</p>
											</li>
									</ul>
								</div>
							</div>
							<div class="uk-card-footer">
								<div class="uk-grid uk-grid-small uk-grid-divider uk-flex uk-flex-middle" data-uk-grid>
									<div class="uk-width-expand uk-text-small">
										PoV: {{ partida.punto_de_vista }}
									</div>
									<div class="uk-width-auto uk-text-right">

										<a href="#" uk-toggle="target: #modal-jugadores1" data-uk-tooltip="title: Ver jugadores" class="uk-inline" data-uk-icon="icon:users; ratio: 0.8"></a>
										<div id="modal-jugadores1" uk-modal>
											<div class="uk-modal-dialog uk-modal-body">
													<h2 class="uk-modal-title uk-text-center">Judarores</h2>
													<span v-for="(valor, clave) in partida">
														<span v-if="typeof(valor) === 'object'">
															<span v-for="(equipos, num_equipo) in valor">
																<h3 style="margin: 0;">Equipo {{ num_equipo }}</h3>
																<span v-for="(info_jugador, num_jugador) in equipos">

																	<article style="display:flex;align-items:center;">
																		<img :src="'assets/img/civs/' + info_jugador.color_cod + '/' + info_jugador.civ_cod + '.png'" v-bind:alt="[spanish(info_jugador.color)+'-'+info_jugador.civ]" class="uk-flex" style="height: 36px;">
																		<div style="height: 40px;padding: 10px;">
																			<h4 class="uk-margin-remove">{{ info_jugador.nickname }}</h4>
																			<h5 style="margin: 0;"><span v-bind:style="{ 'color': custom_color(info_jugador.color) }">&#9673;</span> {{ info_jugador.civ }}</h5><br>
																		</div>
																	</article>

																</span>
																<br>
															</span>
															<br>
														</span>
													</span>
													<p class="uk-text-center">
														<button class="uk-button uk-modal-close uk-button-primary" type="button">Continuar</button>
													</p>
											</div>
										</div>
									</div>
									<div class="uk-width-auto uk-text-right">
										<a href="#" data-uk-tooltip="title: Sobre la partida" uk-toggle="target: #modal-about1" class="uk-icon-link" data-uk-icon="icon:info; ratio: 0.8"></a>

										<!-- MODAL con TODA LA INFORMACI√ìN -->
										<div id="modal-about1" uk-modal>
												<div class="uk-modal-dialog uk-modal-body">
														<h2 class="uk-modal-title">Sobre la partida</h2>
														<h3>Toda la informaci√≥n rescatada de la partida grabada.</h3>
														<span v-for="(valor, clave) in partida">
															<span v-if="typeof(valor) === 'object'">
																<span v-for="(equipos, num_equipo) in valor">
																	<strong>Equipo {{ num_equipo }}</strong><br>
																	<span v-for="(info_jugador, num_jugador) in equipos">
																		<span v-bind:style="{ 'color': custom_color(info_jugador.color) }">&#9673;</span> <strong>{{ info_jugador.nickname }}</strong><br>
																		Civilizaci√≥n: {{ info_jugador.civ }}<br>
																	</span>
																	<br>
																</span>
																<br>
															</span>
															<span v-else>
																{{ clave }}: {{ valor }}<br>
															</span>
														</span>
														<p class="uk-text-center">
																<button class="uk-button uk-modal-close uk-button-primary" type="button">¬°Okay!</button>
														</p>
												</div>
										</div>
									</div>
									<div class="uk-width-auto uk-text-right">
										<a data-uk-tooltip="title: Descargar partida" href="#" uk-toggle="target: #modal-download1" class="uk-icon-link" data-uk-icon="icon:download; ratio: 1"></a>
										<div id="modal-download1" uk-modal>
											<div class="uk-modal-dialog uk-modal-body">
													<h2 class="uk-modal-title">¬°Descargando partida!</h2>
													<p>
														Se est√° descargando la partida <strong>"{{ partida.nombre_archivo }}"</strong>
														<br><br>
														Para abrir la partida, guardar el archivo descargado en la carpeta <strong>SaveGame</strong>
													</p>
													
													<p class="uk-text-center">
															<button class="uk-button uk-modal-close uk-button-primary" type="button">¬°Okay!</button>
													</p>
											</div>
									</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<!-- /card -->
					
				</div>
			</div>
		</section>
		<!--/CARDS WRAPPER-->
		
		<!-- JS FILES -->
		<script src="https://cdn.jsdelivr.net/npm/uikit@latest/dist/js/uikit.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/uikit@latest/dist/js/uikit-icons.min.js"></script>
		<script src="assets/js/cards.js"></script>
		<script src="assets/js/script.js"></script>
		<script src="https://unpkg.com/vue@next"></script>
		<script>
			const { createApp } = Vue;
			const App = {
				data() {
					return {
						partidas: {
							1: {
								'bloqueo_diplomacia_equipos': 'Bloqueado',
								'dificultad': 'Muy f√°cil',
								'diplomacia': 'Batalla de equipos',
								'duracion_partida': '00:49:09',
								'equipos': {
									1: {
										1: {
											'civ': 'Persas',
											'civ_cod': '8',
											'color': 'Blue',
											'color_cod': '0',
											'nickname': '(WARRIORS) Frank',
											'victoria': 0},
										2: {'civ': 'Japoneses',
											'civ_cod': '5',
											'color': 'Red',
											'color_cod': '1',
											'nickname': '(WARRIORS) _MaesTro_De_MaEsTros',
											'victoria': 0},
										3: {'civ': 'Celtas',
											'civ_cod': '13',
											'color': 'Green',
											'color_cod': '2',
											'nickname': '(WaRRiORs)_AmigoFremer',
											'victoria': 0},
										4: {'civ': 'Vikingos',
											'civ_cod': '11',
											'color': 'Yellow',
											'color_cod': '3',
											'nickname': '(WARRIORS)Flame A',
											'victoria': 0}},
									2: {
										5: {'civ': 'Francos',
											'civ_cod': '2',
											'color': 'Teal',
											'color_cod': '4',
											'nickname': 'Pro with new account',
											'victoria': 1},
										6: {'civ': 'Mayas',
											'civ_cod': '16',
											'color': 'Purple',
											'color_cod': '5',
											'nickname': 'I AM INDO',
											'victoria': 1},
										7: {'civ': 'Ingleses',
											'civ_cod': '1',
											'color': 'Gray',
											'color_cod': '6',
											'nickname': 'Hector',
											'victoria': 1},
										8: {'civ': 'Chinos',
											'civ_cod': '6',
											'color': 'Orange',
											'color_cod': '7',
											'nickname': 'Hiraishin\x99',
											'victoria': 1
										}
									}
								},
								'mapa_revelado': 'Normal',
								'nombre_archivo': 'recorded game -  06-mar-2021 04`17`02.mgx',
								'nombre_mapa': 'Arabia',
								'poblacion': 200,
								'punto_de_vista': '(WaRRiORs)_AmigoFremer',
								'tamano_mapa': 'Grande (8 jug.)',
								'teams': '4v4',
								'velocidad': 'R√°pida'
							},
							2: {
								'bloqueo_diplomacia_equipos': 'Bloqueado',
								'dificultad': 'Muy f√°cil',
								'diplomacia': 'Batalla de equipos',
								'duracion_partida': '00:49:09',
								'equipos': {
									1: {
										1: {
											'civ': 'Persas',
											'civ_cod': '8',
											'color': 'Blue',
											'color_cod': '0',
											'nickname': '(WARRIORS) Frank',
											'victoria': 0},
										2: {'civ': 'Japoneses',
											'civ_cod': '5',
											'color': 'Red',
											'color_cod': '1',
											'nickname': '(WARRIORS) _MaesTro_De_MaEsTros',
											'victoria': 0},
										3: {'civ': 'Celtas',
											'civ_cod': '13',
											'color': 'Green',
											'color_cod': '2',
											'nickname': '(WaRRiORs)_AmigoFremer',
											'victoria': 0},
										4: {'civ': 'Vikingos',
											'civ_cod': '11',
											'color': 'Yellow',
											'color_cod': '3',
											'nickname': '(WARRIORS)Flame A',
											'victoria': 0}},
									2: {
										5: {'civ': 'Francos',
											'civ_cod': '2',
											'color': 'Teal',
											'color_cod': '4',
											'nickname': 'Pro with new account',
											'victoria': 1},
										6: {'civ': 'Mayas',
											'civ_cod': '16',
											'color': 'Purple',
											'color_cod': '5',
											'nickname': 'I AM INDO',
											'victoria': 1},
										7: {'civ': 'Ingleses',
											'civ_cod': '1',
											'color': 'Gray',
											'color_cod': '6',
											'nickname': 'Hector',
											'victoria': 1},
										8: {'civ': 'Chinos',
											'civ_cod': '6',
											'color': 'Orange',
											'color_cod': '7',
											'nickname': 'Hiraishin\x99',
											'victoria': 1
										}
									}
								},
								'mapa_revelado': 'Normal',
								'nombre_archivo': 'recorded game -  06-mar-2021 04`17`02.mgx',
								'nombre_mapa': 'Blue Arab',
								'poblacion': 200,
								'punto_de_vista': 'Maeestro',
								'tamano_mapa': 'Grande (8 jug.)',
								'teams': '4v4',
								'velocidad': 'R√°pida'
							}
						}
					};
				},
				mounted() {
					this.traer_partidas();
				},
				methods:{
					traer_partidas() {
						console.log('Recopilando informaci√≥n...')
					},
					spanish(color) {
						spanish_colors = {'Blue':'Azul', 'Red':'Rojo', 'Green':'Verde', 'Yellow':'Amarillo', 'Teal':'Celeste', 'Purple':'Morado', 'Gray':'Gris', 'Orange':'Naranja'}
						return spanish_colors[color]
					},
					custom_color(color){
						custom_colors = {'Blue':'blue', 'Red':'red', 'Green':'lime', 'Yellow':'yellow', 'Teal':'cyan', 'Purple':'fuchsia', 'Gray':'#E9E9E9', 'Orange':'orange'}
						return custom_colors[color]
					}
				},
			};
			createApp(App).mount("#app");
		</script>
	</body>
</html>
